<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€è”¡éº—å¨Ÿå°ˆå±¬ã€‘ç€¨æˆ¶å…§æµ·è—è¡“èˆ‡è‡ªç„¶ä¸ƒæ—¥éŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* Custom scrollbar styling for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #a78bfa; /* Violet-400 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-track {
            background-color: #f3f4f6; /* Gray-100 */
        }
        .timeline-dot {
            position: relative;
            z-index: 10;
        }
        /* Style for active navigation link */
        .nav-link.active {
            background-color: #f3e8ff; /* Purple-100 */
            color: #7c3aed; /* Purple-600 */
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">

    <script id="data-json" type="application/json">
    {
        "tripInfo": {
            "days": 7,
            "dates": "2025/10/08 - 2025/10/14",
            "members": "è”¡éº—å¨Ÿ",
            "style": "æ·±åº¦è—è¡“ã€è‡ªç„¶æ¢ç´¢ã€å¤§çœ¾é‹è¼¸å„ªåŒ–"
        },
        "transportInfo": {
            "main": "JR å››åœ‹åˆ—è»Š, ç´é›», æ¸¡è¼ª/é«˜é€Ÿèˆ¹, ç•¶åœ°å·´å£« (å°è±†å³¶æ©„æ¬–å·´å£«)",
            "pass": "å»ºè­°è³¼è²· All Shikoku Rail Pass (7æ—¥åˆ¸) + å°è±†å³¶æ©„æ¬–å·´å£«ä¸€æ—¥åˆ¸ + ICOCA/Suica",
            "costs": [
                {"label": "JR/é›»è»Š (é ä¼°)", "value": 18000, "color": "bg-purple-500"},
                {"label": "æ¸¡è¼ª (é ä¼°)", "value": 6000, "color": "bg-indigo-500"},
                {"label": "å·´å£«/æ¥é§ (é ä¼°)", "value": 3000, "color": "bg-blue-500"}
            ]
        },
        "accommodationInfo": [
            {"day": "Day 1-3 (10/08-10/10)", "location": "é«˜æ¾/Dormy Inn", "type": "å•†å‹™æº«æ³‰é£¯åº—", "note": "é«˜æ¾è»Šç«™å‘¨é‚Šï¼Œæ–¹ä¾¿å¾€è¿”å¾·å³¶èˆ‡æ¸¯å£"},
            {"day": "Day 4 (10/11)", "location": "å°è±†å³¶/æµ·ç£æ¸¡å‡æ‘é£¯åº—", "type": "åº¦å‡é£¯åº—", "note": "å·²ç¢ºèªå‚æ‰‹æ¸¯æ¥é§"},
            {"day": "Day 5-7 (10/12-10/14)", "location": "é«˜æ¾/Comfort Hotel Takamatsu", "type": "å•†å‹™æ—…é¤¨", "note": "é«˜æ¾å¸‚å€ï¼Œæ–¹ä¾¿å¸‚å€è³¼ç‰©èˆ‡ç´é›»äº¤é€š"}
        ],
        "dailyItinerary": [
            {
                "day": 1,
                "date": "10/08 (ä¸‰)",
                "title": "é«˜æ¾æŠµé”èˆ‡å¸‚å€åˆæ¢",
                "activities": [
                    {"time": "18:05", "description": "æŠµé”é«˜æ¾æ©Ÿå ´ (TAK)", "duration": "1å°æ™‚", "transport": "åˆ©æœ¨æ´¥å·´å£«", "route": "æ©Ÿå ´ â†’ é«˜æ¾ç«™ (ç´„ 45åˆ†)", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾ç©ºæ¸¯+åˆ©æœ¨æ´¥ãƒã‚¹"},
                    {"time": "19:30", "description": "è¾¦ç† Dormy Inn Check-in", "duration": "1å°æ™‚", "transport": "æ­¥è¡Œ", "route": "é«˜æ¾ç«™ â†’ é£¯åº—", "map": "https://www.google.com/maps/search/?api=1&query=Dormy+Inn+é«˜æ¾"},
                    {"time": "20:30", "description": "æ™šé¤ï¼šé«˜æ¾ç«™å‘¨é‚Š/å•†åº—è¡—", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ­¥è¡Œ", "route": "é«˜æ¾ç«™å‘¨é‚Š", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾é§…+å‘¨è¾º+æ™šé¤"}
                ]
            },
            {
                "day": 2,
                "date": "10/09 (å››)",
                "title": "ç›´å³¶è—è¡“å·¡ç¦®ï¼šåœ°ä¸­ç¾è¡“é¤¨",
                "activities": [
                    {"time": "09:00", "description": "æ­èˆ¹å¾€ç›´å³¶ (å®®æµ¦æ¸¯)", "duration": "1å°æ™‚", "transport": "æ¸¡è¼ª", "route": "é«˜æ¾æ¸¯ â†’ å®®æµ¦æ¸¯", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾æ¸¯+ç›´å³¶+æ¸¡è¼ª"},
                    {"time": "10:30", "description": "ç›´å³¶ï¼šå—ç“œèˆ‡å®®æµ¦æ¸¯å‘¨é‚Šè—è¡“", "duration": "1å°æ™‚", "transport": "æ­¥è¡Œ", "route": "å®®æµ¦æ¸¯å‘¨é‚Š", "map": "https://www.google.com/maps/search/?api=1&query=ç›´å³¶+å®®æµ¦æ¸¯+ç´…å—ç“œ"},
                    {"time": "11:30", "description": "æ­å·´å£«å¾€åœ°ä¸­ç¾è¡“é¤¨å€", "duration": "30åˆ†", "transport": "ç”ºç‡Ÿå·´å£«/æ¥é§è»Š", "route": "å®®æµ¦æ¸¯ â†’ ã¤ã¤ã˜è˜ â†’ åœ°ä¸­ç¾è¡“é¤¨", "map": "https://www.google.com/maps/search/?api=1&query=ç›´å³¶+ã¤ã¤ã˜è˜+ãƒã‚¹+æ™‚åˆ»è¡¨"},
                    {"time": "12:00", "description": "**åœ°ä¸­ç¾è¡“é¤¨** (åˆé¤æ–¼é¤¨å…§æˆ–å‘¨é‚Š)", "duration": "3å°æ™‚", "transport": "æ­¥è¡Œ", "route": "åœ°ä¸­ç¾è¡“é¤¨", "map": "https://www.google.com/maps/search/?api=1&query=åœ°ä¸­ç¾è¡“é¤¨"},
                    {"time": "15:30", "description": "Benesse House Museum & æˆ¶å¤–è—è¡“", "duration": "2å°æ™‚", "transport": "å…è²»æ¥é§è»Š/æ­¥è¡Œ", "route": "ã¤ã¤ã˜è˜å‘¨é‚Š", "map": "https://www.google.com/maps/search/?api=1&query=Benesse+House+Museum"},
                    {"time": "18:00", "description": "æ­èˆ¹è¿”å›é«˜æ¾æ¸¯", "duration": "1å°æ™‚", "transport": "æ¸¡è¼ª", "route": "å®®æµ¦æ¸¯ â†’ é«˜æ¾æ¸¯", "map": "https://www.google.com/maps/search/?api=1&query=ç›´å³¶+å®®æµ¦æ¸¯+é«˜æ¾æ¸¯+æ¸¡è¼ª"}
                ]
            },
            {
                "day": 3,
                "date": "10/10 (äº”)",
                "title": "å¾·å³¶ï¼šé³´é–€æ¼©æ¸¦èˆ‡é˜¿æ³¢èˆä¹‹å¤œ",
                "activities": [
                    {"time": "08:00", "description": "æ­ä¹˜ JR å‰å¾€å¾·å³¶", "duration": "1å°æ™‚ 30åˆ†", "transport": "JR ç‰¹æ€¥æ¸¦æ½®è™Ÿ", "route": "é«˜æ¾ç«™ â†’ å¾·å³¶ç«™", "map": "https://www.google.com/maps/search/?api=1&query=JRé«˜æ¾é§…+JRå¾³å³¶é§…"},
                    {"time": "10:00", "description": "å¾·å³¶ç«™æ­å·´å£«å‰å¾€é³´é–€å…¬åœ’", "duration": "1å°æ™‚ 30åˆ†", "transport": "å¾·å³¶å·´å£«", "route": "å¾·å³¶ç«™ â†’ é³´é–€å…¬åœ’", "map": "https://www.google.com/maps/search/?api=1&query=å¾³å³¶é§…+é³´é–€å…¬åœ’+ãƒã‚¹+æ™‚åˆ»è¡¨"},
                    {"time": "11:30", "description": "**é³´é–€æ¼©æ¸¦è§€æ½®èˆ¹** (é…åˆå¤§æ½®æ™‚é–“)", "duration": "2å°æ™‚", "transport": "è§€å…‰èˆ¹", "route": "æ¸¦ä¹‹é“/è§€æ½®èˆ¹ç¢¼é ­", "map": "https://www.google.com/maps/search/?api=1&query=é³´é–€æ¸¦æ½®+è¦³æ½®èˆ¹"},
                    {"time": "14:00", "description": "åˆé¤ï¼šé³´é–€æµ·é®®/é¯›é­šæ–™ç†", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ­¥è¡Œ", "route": "é³´é–€å…¬åœ’å‘¨é‚Š", "map": "https://www.google.com/maps/search/?api=1&query=é³´é–€å…¬åœ’+å‘¨é‚Š+æµ·é®®+é¤å»³"},
                    {"time": "16:00", "description": "è¿”å›å¾·å³¶ç«™", "duration": "1å°æ™‚ 30åˆ†", "transport": "å¾·å³¶å·´å£«", "route": "é³´é–€å…¬åœ’ â†’ å¾·å³¶ç«™", "map": "https://www.google.com/maps/search/?api=1&query=é³´é–€å…¬åœ’+å¾³å³¶é§…+ãƒã‚¹+æ™‚åˆ»è¡¨"},
                    {"time": "18:30", "description": "**é˜¿æ³¢èˆæœƒé¤¨** è§€è³è¡¨æ¼”èˆ‡æ™šé¤", "duration": "3å°æ™‚", "transport": "æ­¥è¡Œ", "route": "å¾·å³¶ç«™é™„è¿‘", "map": "https://www.google.com/maps/search/?api=1&query=é˜¿æ³¢ãŠã©ã‚Šä¼šé¤¨"},
                    {"time": "21:30", "description": "æ­ä¹˜ JR è¿”å›é«˜æ¾", "duration": "1å°æ™‚ 15åˆ†", "transport": "JR åˆ—è»Š", "route": "å¾·å³¶ç«™ â†’ é«˜æ¾ç«™", "map": "https://www.google.com/maps/search/?api=1&query=JRå¾³å³¶é§…+JRé«˜æ¾é§…"}
                ]
            },
            {
                "day": 4,
                "date": "10/11 (å…­)",
                "title": "å°è±†å³¶ï¼šæ©„æ¬–å·´å£«ä¸€æ—¥éŠ",
                "activities": [
                    {"time": "09:00", "description": "æ­èˆ¹å¾€å°è±†å³¶ (åœŸåº„æ¸¯)", "duration": "1å°æ™‚", "transport": "æ¸¡è¼ª/é«˜é€Ÿèˆ¹", "route": "é«˜æ¾æ¸¯ â†’ åœŸåº„æ¸¯", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾æ¸¯+å°è±†å³¶åœŸåº„æ¸¯+æ¸¡è¼ª"},
                    {"time": "11:00", "description": "**å¤©ä½¿ä¹‹è·¯** (ç¢ºèªä½æ½®æ™‚é–“)", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ©„æ¬–å·´å£«/æ­¥è¡Œ", "route": "åœŸåº„æ¸¯ â†’ åœ‹éš›é£¯åº—å‰", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶+å¤©ä½¿ã®æ•£æ­©é“"},
                    {"time": "12:30", "description": "åˆé¤å¾Œå‰å¾€å¯’éœæºª", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ©„æ¬–å·´å£«/è½‰ä¹˜", "route": "åœ‹éš›é£¯åº—å‰ â†’ åœŸåº„æ¸¯ â†’ æ± ç”°æ¸¯ â†’ ç´…é›²äº­ (å¯’éœæºªæ€¥è¡Œç·š)", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶+å¯’éœæºª"},
                    {"time": "14:30", "description": "**å¯’éœæºª** çºœè»Šè§€æ™¯", "duration": "2å°æ™‚", "transport": "çºœè»Š/æ­¥è¡Œ", "route": "ç´…é›²äº­", "map": "https://www.google.com/maps/search/?api=1&query=å¯’éœæºªãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤+ç´…é›²äº­é§…"},
                    {"time": "17:00", "description": "**å°è±†å³¶æ©„æ¬–å…¬åœ’** æ‹ç…§", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ©„æ¬–å·´å£«", "route": "ç´…é›²äº­ â†’ æ©„æ¬–å…¬åœ’å£", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶ã‚ªãƒªãƒ¼ãƒ–å…¬åœ’"},
                    {"time": "18:45", "description": "æ­ä¹˜**å‚æ‰‹ç·š**å‰å¾€å‚æ‰‹æ¸¯ä¸¦æ­ä¹˜æ¥é§è»Š", "duration": "30åˆ†", "transport": "æ©„æ¬–å·´å£«/æ¥é§è»Š", "route": "æ©„æ¬–å…¬åœ’å£ â†’ **å‚æ‰‹æ¸¯** (é£¯åº—æ¥é§é») â†’ é£¯åº— CHECKIN", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶+å‚æ‰‹æ¸¯+ãƒ™ã‚¤ãƒªã‚¾ãƒ¼ãƒˆãƒ›ãƒ†ãƒ«"}
                ]
            },
            {
                "day": 5,
                "date": "10/12 (æ—¥)",
                "title": "å›é«˜æ¾ï¼šæ —æ—å…¬åœ’èˆ‡æ›å®¿",
                "activities": [
                    {"time": "09:30", "description": "Check-outï¼Œæ­æ¥é§è»Šå¾€**å‚æ‰‹æ¸¯**", "duration": "30åˆ†", "transport": "é£¯åº—æ¥é§è»Š", "route": "é£¯åº— â†’ å‚æ‰‹æ¸¯", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶+å‚æ‰‹æ¸¯"},
                    {"time": "10:30", "description": "æ­èˆ¹è¿”å›é«˜æ¾æ¸¯", "duration": "1å°æ™‚ 15åˆ†", "transport": "æ¸¡è¼ª", "route": "**å‚æ‰‹æ¸¯** â†’ é«˜æ¾æ¸¯", "map": "https://www.google.com/maps/search/?api=1&query=å°è±†å³¶å‚æ‰‹æ¸¯+é«˜æ¾æ¸¯+æ¸¡è¼ª"},
                    {"time": "12:30", "description": "åˆé¤å¾Œï¼ŒComfort Hotel Takamatsu CHECKIN", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ­¥è¡Œ", "route": "é«˜æ¾æ¸¯ â†’ é£¯åº—", "map": "https://www.google.com/maps/search/?api=1&query=Comfort+Hotel+Takamatsu"},
                    {"time": "14:30", "description": "**æ —æ—å…¬åœ’** æ•£æ­¥è³æ™¯", "duration": "2å°æ™‚ 30åˆ†", "transport": "JR/æ­¥è¡Œ", "route": "é«˜æ¾ç«™ â†’ æ —æ—å…¬åœ’åŒ—å£/æ —æ—å…¬åœ’ç«™", "map": "https://www.google.com/maps/search/?api=1&query=æ —æ—å…¬åœ’"},
                    {"time": "18:00", "description": "é«˜æ¾ä¸¸é¾œç”ºå•†åº—è¡—è³¼ç‰©èˆ‡æ™šé¤", "duration": "3å°æ™‚", "transport": "æ­¥è¡Œ", "route": "é«˜æ¾å¸‚ä¸­å¿ƒ", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾ä¸¸äº€ç”ºå•†åº—è¡—"}
                ]
            },
            {
                "day": 6,
                "date": "10/13 (ä¸€)",
                "title": "ç¥è–ä¹‹è·¯ï¼šé‡‘åˆ€æ¯”ç¾…å®®èˆ‡æº«æ³‰",
                "activities": [
                    {"time": "09:00", "description": "æ­ä¹˜ç´é›»å‰å¾€ç´å¹³", "duration": "1å°æ™‚ 30åˆ†", "transport": "ç´é›»ç´å¹³ç·š", "route": "é«˜æ¾ç¯‰æ¸¯ç«™ â†’ ç´é›»ç´å¹³ç«™", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾ç¯‰æ¸¯é§…+ç´é›»ç´å¹³é§…"},
                    {"time": "11:00", "description": "**é‡‘åˆ€æ¯”ç¾…å®®** åƒæ‹œ (1368 ç´šéšæ¢¯)", "duration": "3å°æ™‚", "transport": "æ­¥è¡Œ", "route": "ç´é›»ç´å¹³ç«™ â†’ è¡¨åƒé“", "map": "https://www.google.com/maps/search/?api=1&query=é‡‘åˆ€æ¯”ç¾…å®®"},
                    {"time": "14:30", "description": "åˆé¤ï¼šè®šå²çƒé¾éºµååº—", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ­¥è¡Œ", "route": "ç´å¹³ç«™å‘¨é‚Š", "map": "https://www.google.com/maps/search/?api=1&query=ç´å¹³é§…+çƒé¾éºµ"},
                    {"time": "16:30", "description": "ç´å¹³æº«æ³‰/è¶³æ¹¯/æ•£æ­¥", "duration": "1å°æ™‚ 30åˆ†", "transport": "æ­¥è¡Œ", "route": "ç´å¹³æº«æ³‰è¡—", "map": "https://www.google.com/maps/search/?api=1&query=ç´å¹³+æ¸©æ³‰+è¶³æ¹¯"},
                    {"time": "18:00", "description": "è¿”å›é«˜æ¾å¸‚å€", "duration": "1å°æ™‚ 30åˆ†", "transport": "ç´é›»ç´å¹³ç·š", "route": "ç´é›»ç´å¹³ç«™ â†’ é«˜æ¾ç¯‰æ¸¯ç«™", "map": "https://www.google.com/maps/search/?api=1&query=ç´é›»ç´å¹³é§…+é«˜æ¾ç¯‰æ¸¯é§…"}
                ]
            },
            {
                "day": 7,
                "date": "10/14 (äºŒ)",
                "title": "è³¦æ­¸æ—¥ï¼šé«˜æ¾å¸‚å€è³¼ç‰©",
                "activities": [
                    {"time": "09:00", "description": "é«˜æ¾å¸‚å€è‡ªç”±è³¼ç‰©", "duration": "6å°æ™‚", "transport": "æ­¥è¡Œ", "route": "ä¸¸é¾œç”ºå•†åº—è¡—/ç“¦ç”ºFLAG", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾ä¸¸äº€ç”ºå•†åº—è¡—"},
                    {"time": "15:00", "description": "å›é£¯åº—æ•´ç†è¡Œæ", "duration": "1å°æ™‚", "transport": "æ­¥è¡Œ", "route": "Comfort Hotel Takamatsu", "map": "https://www.google.com/maps/search/?api=1&query=Comfort+Hotel+Takamatsu"},
                    {"time": "16:00", "description": "æ­ä¹˜åˆ©æœ¨æ´¥å·´å£«å‰å¾€æ©Ÿå ´", "duration": "1å°æ™‚ 30åˆ†", "transport": "åˆ©æœ¨æ´¥å·´å£«", "route": "é«˜æ¾ç«™ â†’ æ©Ÿå ´ (ç´„ 45åˆ†)", "map": "https://www.google.com/maps/search/?api=1&query=é«˜æ¾é§…+åˆ©æœ¨æ´¥ãƒã‚¹+æ™‚åˆ»è¡¨"},
                    {"time": "19:05", "description": "é«˜æ¾æ©Ÿå ´ (TAK) ç™»æ©Ÿè³¦æ­¸", "duration": " - ", "transport": " - ", "route": " - ", "map": ""}
                ]
            }
        ],
        "restaurants": [
            {"name": "çƒé¾éºµ é¶´ä¸¸", "type": "çƒé¾éºµ", "map": "https://www.google.com/maps/search/?api=1&query=æ‰‹æ‰“ã†ã©ã‚“+é¶´ä¸¸", "location": "é«˜æ¾"},
            {"name": "éºµè™• ã‚ã‚Šã‘ã‚“ã‚„", "type": "çƒé¾éºµ (è»Šç«™)", "map": "https://www.google.com/maps/search/?api=1&query=éººå‡¦+ã‚ã‚Šã‘ã‚“ã‚„+é«˜æ¾", "location": "é«˜æ¾"},
            {"name": "ã•ã¬ãã†ã©ã‚“ æœ¬å®¶ ã‹ã‚‚ã ", "type": "çƒé¾éºµ (ç´å¹³)", "map": "https://www.google.com/maps/search/?api=1&query=ã•ã¬ãã†ã©ã‚“+æœ¬å®¶+ã‹ã‚‚ã ", "location": "ç´å¹³"},
            {"name": "å¾·å³¶æ‹‰éºµ è±¬å¤ªéƒ", "type": "ç•¶åœ°å°åƒ", "map": "https://www.google.com/maps/search/?api=1&query=ã„ã®ãŸã«+å¾³å³¶ãƒ©ãƒ¼ãƒ¡ãƒ³", "location": "å¾·å³¶"},
            {"name": "æ¸¦ä¹‹é“å‘¨é‚Šæµ·é®®åº—", "type": "æµ·é®®/ç•¶åœ°ç‰¹è‰²", "map": "https://www.google.com/maps/search/?api=1&query=é³´é–€å…¬åœ’+æµ·é®®+é¤å»³", "location": "é³´é–€"},
            {"name": "ã“ã¾ã‚é£Ÿå ‚", "type": "ç•¶åœ°ç‰¹è‰²/ç±³é£¯", "map": "https://www.google.com/maps/search/?api=1&query=ã“ã¾ã‚é£Ÿå ‚+å°è±†å³¶", "location": "å°è±†å³¶"},
            {"name": "çˆç«¯ç‡’ ã„ã‘ç”°", "type": "æµ·é®®/å±…é…’å±‹", "map": "https://www.google.com/maps/search/?api=1&query=ã„ã‘ç”°+é«˜æ¾", "location": "é«˜æ¾"}
        ]
    }
    </script>

    <header class="sticky top-0 z-50 shadow-md bg-white">
        <nav class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0 text-xl font-extrabold text-purple-600">
                    ç€¨æˆ¶å…§ä¸ƒæ—¥éŠ
                </div>
                <div class="flex space-x-4">
                    <button class="nav-link text-gray-500 hover:text-purple-600 font-medium transition duration-150 ease-in-out px-3 py-2 rounded-md" data-target="overview">ç¸½è¦½</button>
                    <button class="nav-link text-gray-500 hover:text-purple-600 font-medium transition duration-150 ease-in-out px-3 py-2 rounded-md" data-target="transport-accommodations">äº¤é€šä½å®¿</button>
                    <button class="nav-link text-gray-500 hover:text-purple-600 font-medium transition duration-150 ease-in-out px-3 py-2 rounded-md" data-target="daily-itinerary">æ¯æ—¥è¡Œç¨‹</button>
                    <button class="nav-link text-gray-500 hover:text-purple-600 font-medium transition duration-150 ease-in-out px-3 py-2 rounded-md" data-target="food-map">ç¾é£Ÿåœ°åœ–</button>
                    <button class="nav-link text-gray-500 hover:text-purple-600 font-medium transition duration-150 ease-in-out px-3 py-2 rounded-md" data-target="preparation">è¡Œå‰æº–å‚™</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <section id="overview" class="content-section active">
            <h1 class="text-4xl font-bold text-gray-900 mb-6 border-b-4 border-purple-500 pb-2">ğŸ›« è¡Œç¨‹ç¸½è¦½</h1>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 bg-white p-6 rounded-lg shadow-lg">
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <p class="text-sm text-gray-500">æ—…éŠå¤©æ•¸</p>
                    <p class="text-3xl font-extrabold text-purple-600" id="info-days"></p>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <p class="text-sm text-gray-500">æ—…éŠæ—¥æœŸ</p>
                    <p class="text-xl font-bold text-purple-600" id="info-dates"></p>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <p class="text-sm text-gray-500">åŒè¡Œæˆå“¡</p>
                    <p class="text-xl font-bold text-purple-600" id="info-members"></p>
                </div>
                <div class="text-center p-4 bg-purple-50 rounded-lg">
                    <p class="text-sm text-gray-500">æ—…éŠé¢¨æ ¼</p>
                    <p class="text-xl font-bold text-purple-600" id="info-style"></p>
                </div>
            </div>
            <div class="mt-8">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">ğŸŒŸ è¡Œç¨‹äº®é»</h2>
                <ul class="list-disc pl-6 space-y-2 text-gray-700">
                    <li>**é³´é–€å¤§æ¼©æ¸¦ï¼š** å®‰æ’æœ€ä½³è§€æ½®æ™‚æ®µï¼Œä¸¦åˆ©ç”¨ JR å¾€è¿”å¾·å³¶èˆ‡é«˜æ¾ã€‚</li>
                    <li>**å°è±†å³¶é«˜æ•ˆä¸€æ—¥éŠï¼š** æ¡ç”¨**æ©„æ¬–å·´å£«**èˆ‡**å‚æ‰‹æ¸¯æ¥é§**ï¼Œå„ªåŒ–å‹•ç·šä¸¦åœ¨å³¶ä¸Šä½å®¿ä¸€æ™šã€‚</li>
                    <li>**ç›´å³¶è—è¡“å·¡ç¦®ï¼š** å°ˆæ³¨åœ°ä¸­ç¾è¡“é¤¨èˆ‡æˆ¶å¤–è—è¡“ï¼Œåˆ©ç”¨å³¶ä¸Šäº¤é€šé«˜æ•ˆç§»å‹•ã€‚</li>
                    <li>**é«˜æ¾æ–‡åŒ–æ¢ç´¢ï¼š** æ·±åº¦éŠè¦½æ —æ—å…¬åœ’ã€é‡‘åˆ€æ¯”ç¾…å®®ã€‚</li>
                </ul>
            </div>
        </section>

        <section id="transport-accommodations" class="content-section hidden">
            <h1 class="text-4xl font-bold text-gray-900 mb-6 border-b-4 border-purple-500 pb-2">ğŸš† äº¤é€šèˆ‡ä½å®¿è¦åŠƒ</h1>

            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h2 class="text-2xl font-semibold text-purple-700 mb-4">äº¤é€šè¦åŠƒèˆ‡é ç®—åœ–</h2>
                <p class="text-gray-700 mb-4 font-medium" id="transport-main"></p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <canvas id="transportChart"></canvas>
                        <p class="text-xs text-gray-500 mt-2 text-center">è²»ç”¨ç‚ºé ä¼°æ¯äººç¸½è¨ˆï¼Œå–®ä½ï¼šæ—¥åœ“ (Â¥)</p>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-3">ğŸ« ç¥¨åˆ¸å»ºè­°</h3>
                        <p class="text-sm text-gray-600 mb-4" id="transport-pass"></p>
                        <div class="space-y-3">
                            <div class="p-3 bg-red-100 border-l-4 border-red-500 text-red-800 rounded">
                                **æ³¨æ„ï¼š** æ¸¡è¼ªç¥¨ï¼ˆé«˜æ¾-å°è±†å³¶/ç›´å³¶ï¼‰**ä¸åŒ…å«**åœ¨ä»»ä½•éµè·¯é€šç¥¨å…§ï¼Œéœ€å–®ç¨è³¼è²·ã€‚
                            </div>
                            <div class="p-3 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded">
                                **é‡è¦ï¼š** å°è±†å³¶æµ·ç£æ¸¡å‡æ‘é£¯åº—çš„å‚æ‰‹æ¸¯æ¥é§ï¼Œè«‹**å‹™å¿…æå‰é ç´„**ã€‚
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-semibold text-purple-700 mb-4">ğŸ  ä½å®¿è¦åŠƒ</h2>
                <div class="space-y-4" id="accommodation-list">
                    </div>
            </div>
        </section>

        <section id="daily-itinerary" class="content-section hidden">
            <h1 class="text-4xl font-bold text-gray-900 mb-6 border-b-4 border-purple-500 pb-2">ğŸ“… æ¯æ—¥è¡Œç¨‹ (Timeline)</h1>
            <div class="space-y-12" id="daily-timeline-container">
                </div>
        </section>

        <section id="food-map" class="content-section hidden">
            <h1 class="text-4xl font-bold text-gray-900 mb-6 border-b-4 border-purple-500 pb-2">ğŸœ ç¾é£Ÿåœ°åœ–èˆ‡æ¨è–¦</h1>

            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h2 class="text-2xl font-semibold text-purple-700 mb-4">ç¯©é¸æ¨è–¦é¤å»³</h2>
                <div class="flex flex-wrap gap-3 mb-4" id="restaurant-filters">
                    </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="restaurant-list">
                    </div>
            </div>
        </section>

        <section id="preparation" class="content-section hidden">
            <h1 class="text-4xl font-bold text-gray-900 mb-6 border-b-4 border-purple-500 pb-2">âœ… è¡Œå‰æº–å‚™æ¸…å–®</h1>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-semibold text-purple-700 mb-3">ç¥¨åˆ¸èˆ‡é ç´„</h2>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li>**äº¤é€šé€šç¥¨ï¼š** ç¢ºèªæ˜¯å¦è³¼è²· **All Shikoku Rail Pass**ã€‚</li>
                        <li>**å°è±†å³¶ï¼š** è³¼è²· **æ©„æ¬–å·´å£«ä¸€æ—¥åˆ¸**ã€‚</li>
                        <li>**ä½å®¿æ¥é§ï¼š** **å‹™å¿…é ç´„**å°è±†å³¶é£¯åº—çš„å‚æ‰‹æ¸¯æ¥é§è»Šã€‚</li>
                        <li>**ç›´å³¶ï¼š** **åœ°ä¸­ç¾è¡“é¤¨** é–€ç¥¨å»ºè­°æå‰ç·šä¸Šé ç´„ã€‚</li>
                        <li>**é³´é–€æ¼©æ¸¦ï¼š** æŸ¥è©¢ 10/10 **ç²¾ç¢ºæ½®è¦‹è¡¨**ï¼Œä¸¦é…åˆèˆ¹ç­æ™‚é–“ï¼Œè§€æ½®èˆ¹ç¥¨å»ºè­°ææ—©è³¼è²·ã€‚</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-semibold text-purple-700 mb-3">å¿…å‚™ç‰©å“èˆ‡æé†’</h2>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li>**IC å¡ï¼š** æº–å‚™ ICOCA æˆ– Suica (å„²å€¼)ï¼Œç”¨æ–¼å·´å£«å’Œå¸‚å€äº¤é€šã€‚</li>
                        <li>**äº¤é€šAPPï¼š** ä¸‹è¼‰ Google Maps / Japan Travel Navitimeï¼Œç¢ºèªå¯¦æ™‚å·´å£«èˆ‡ JR æ™‚åˆ»è¡¨ã€‚</li>
                        <li>**ç›´å³¶/å°è±†å³¶ï¼š** éœ€å¤§é‡æ­¥è¡Œï¼Œæº–å‚™èˆ’é©çš„é‹å­ã€‚</li>
                        <li>**é‡‘åˆ€æ¯”ç¾…å®®ï¼š** æº–å‚™æ¯›å·¾å’Œæ°´ï¼Œæ‡‰å° 1368 ç´šéšæ¢¯çš„æŒ‘æˆ°ã€‚</li>
                        <li>**è¡Œæï¼š** Day 3 æ™šä¸Šè¿”å›é«˜æ¾ï¼Œå¯å°‡å¤§ä»¶è¡Œæå¯„å­˜åœ¨é«˜æ¾çš„ Dormy Innï¼Œè¼•è£ä¸Šå°è±†å³¶ï¼Œæ¸›è¼•ç§»å‹•è² æ“”ã€‚</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const data = JSON.parse(document.getElementById('data-json').textContent);
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');

            // --- 1. åˆå§‹åŒ–å°è¦½åˆ—èˆ‡å€å¡Šåˆ‡æ› ---
            function showSection(targetId) {
                contentSections.forEach(section => {
                    section.classList.add('hidden');
                });
                document.getElementById(targetId).classList.remove('hidden');

                navLinks.forEach(link => {
                    link.classList.remove('active', 'text-purple-600', 'bg-purple-100');
                    link.classList.add('text-gray-500');
                    if (link.getAttribute('data-target') === targetId) {
                        link.classList.add('active', 'text-purple-600', 'bg-purple-100');
                        link.classList.remove('text-gray-500');
                    }
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    const targetId = e.target.getAttribute('data-target');
                    showSection(targetId);
                });
            });

            // é è¨­é¡¯ç¤ºç¸½è¦½
            showSection('overview');

            // --- 2. æ¸²æŸ“ç¸½è¦½è³‡è¨Š ---
            document.getElementById('info-days').textContent = data.tripInfo.days + 'å¤©6å¤œ';
            document.getElementById('info-dates').textContent = data.tripInfo.dates;
            document.getElementById('info-members').textContent = data.tripInfo.members;
            document.getElementById('info-style').textContent = data.tripInfo.style;
            
            // --- 3. æ¸²æŸ“äº¤é€šèˆ‡ä½å®¿å€å¡Š ---
            document.getElementById('transport-main').textContent = data.transportInfo.main;
            document.getElementById('transport-pass').textContent = data.transportInfo.pass;

            // æ¸²æŸ“ä½å®¿åˆ—è¡¨
            const accommodationList = document.getElementById('accommodation-list');
            accommodationList.innerHTML = data.accommodationInfo.map(acc => `
                <div class="border-l-4 border-purple-500 pl-4 py-2 bg-gray-50 rounded">
                    <p class="font-bold text-gray-900">${acc.day}</p>
                    <p class="text-purple-600 font-medium">${acc.location} (${acc.type})</p>
                    <p class="text-sm text-gray-600">${acc.note}</p>
                </div>
            `).join('');

            // ä½¿ç”¨ Chart.js æ¸²æŸ“äº¤é€šè²»ç”¨åœ–è¡¨
            const ctx = document.getElementById('transportChart').getContext('2d');
            const costsData = data.transportInfo.costs;
            const labels = costsData.map(c => c.label);
            const values = costsData.map(c => c.value);
            // Convert Tailwind class to hex for Chart.js
            const colors = costsData.map(c => {
                const map = {'bg-purple-500': '#a855f7', 'bg-indigo-500': '#6366f1', 'bg-blue-500': '#3b82f6'};
                return map[c.color] || c.color;
            });

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'é ä¼°è²»ç”¨ (æ—¥åœ“)',
                        data: values,
                        backgroundColor: colors,
                        borderColor: colors.map(c => c),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': Â¥' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'è²»ç”¨ (Â¥)' }
                        }
                    }
                }
            });

            // --- 4. æ¸²æŸ“æ¯æ—¥è¡Œç¨‹æ™‚é–“è»¸ ---
            const timelineContainer = document.getElementById('daily-timeline-container');
            timelineContainer.innerHTML = data.dailyItinerary.map(dayData => `
                <div class="bg-white p-6 rounded-lg shadow-xl">
                    <h2 class="text-3xl font-extrabold text-purple-600 mb-4 border-b pb-2">Day ${dayData.day}: ${dayData.title} <span class="text-xl text-gray-500 font-normal ml-2">(${dayData.date})</span></h2>
                    <div class="space-y-6 relative border-l-4 border-gray-200">
                        ${dayData.activities.map(activity => `
                            <div class="relative pl-10">
                                <div class="timeline-dot absolute w-4 h-4 bg-purple-500 rounded-full mt-1 -left-2 border-4 border-white"></div>
                                <p class="text-sm text-gray-500 font-semibold">${activity.time}</p>
                                <p class="text-lg font-bold text-gray-900 mb-1">${activity.description}</p>
                                <p class="text-sm text-gray-700">
                                    <span class="font-medium text-purple-700 mr-2">äº¤é€š:</span> ${activity.transport} (ç´„ ${activity.duration})
                                </p>
                                <p class="text-sm text-gray-700 mb-2">
                                    <span class="font-medium text-purple-700 mr-2">è·¯ç·š:</span> ${activity.route}
                                </p>
                                ${activity.map ? `<a href="${activity.map}" target="_blank" class="text-sm text-blue-500 hover:text-blue-700 hover:underline transition duration-150">æŸ¥çœ‹ Google Maps</a>` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');


            // --- 5. æ¸²æŸ“ç¾é£Ÿåœ°åœ–èˆ‡ç¯©é¸å™¨ ---
            const restaurantList = document.getElementById('restaurant-list');
            const filterContainer = document.getElementById('restaurant-filters');
            let uniqueTypes = new Set();
            data.restaurants.forEach(r => uniqueTypes.add(r.type));

            // Generate filter buttons
            const allFilter = document.createElement('button');
            allFilter.textContent = 'å…¨éƒ¨';
            allFilter.classList.add('filter-btn', 'px-4', 'py-2', 'rounded-full', 'font-medium', 'text-sm', 'bg-purple-600', 'text-white', 'hover:bg-purple-700', 'transition');
            allFilter.setAttribute('data-filter', 'all');
            filterContainer.appendChild(allFilter);

            uniqueTypes.forEach(type => {
                const button = document.createElement('button');
                button.textContent = type;
                button.classList.add('filter-btn', 'px-4', 'py-2', 'rounded-full', 'font-medium', 'text-sm', 'bg-gray-200', 'text-gray-700', 'hover:bg-purple-200', 'hover:text-purple-700', 'transition');
                button.setAttribute('data-filter', type);
                filterContainer.appendChild(button);
            });

            function renderRestaurants(filterType = 'all') {
                restaurantList.innerHTML = data.restaurants
                    .filter(r => filterType === 'all' || r.type === filterType)
                    .map(r => `
                        <div class="bg-purple-50 p-4 rounded-lg shadow">
                            <h3 class="text-xl font-bold text-gray-900">${r.name}</h3>
                            <p class="text-purple-600 font-medium my-1">${r.type} <span class="text-gray-500 text-sm">| ${r.location}</span></p>
                            <a href="${r.map}" target="_blank" class="text-sm text-blue-500 hover:text-blue-700 hover:underline transition duration-150 flex items-center mt-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                                </svg>
                                é»æ“ŠæŸ¥çœ‹åœ°åœ–
                            </a>
                        </div>
                    `).join('');
            }

            // è™•ç†ç¯©é¸å™¨é»æ“Šäº‹ä»¶
            filterContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    const filter = e.target.getAttribute('data-filter');
                    
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('bg-purple-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    
                    e.target.classList.remove('bg-gray-200', 'text-gray-700');
                    e.target.classList.add('bg-purple-600', 'text-white');

                    renderRestaurants(filter);
                }
            });

            // åˆå§‹æ¸²æŸ“ç¾é£Ÿåˆ—è¡¨
            renderRestaurants('all');
        });
    </script>
</body>
</html>